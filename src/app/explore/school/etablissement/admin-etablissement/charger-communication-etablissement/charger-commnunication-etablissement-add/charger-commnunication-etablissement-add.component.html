<ng-container *ngIf="isFormOk">
  <div class="p-3">
    <form class="custom-placeholder form slide-top"
          [formGroup]="form"
          (submit)="create()">
      <!-- Liste des potentiels chargerCom -->
      <div class="formSep form-group p-form-group-3 d-flex justify-content-center pb-0 pt-3">
        <div class="col-12">
          <!-- Label -->
          <label class="control-label"
                 for="chargerComs">
            {{ "UTILISATEURS" | translate }}
            <i class="fas fa-circle-notch fa-spin"
               *ngIf="getNonChargerComLoading"></i>
          </label>

          <angular2-multiselect [data]="nonChargerCom"
                                [settings]="dropdownSettingsAlt.users"
                                formControlName="chargerComs"
                                [ngClass]="{
                                  'is-invalid': shouldShowRequiredError('chargerComs'),
                                  'is-valid': isValid('chargerComs')
                                }"
                                class="form-control p-0 form-control-sm">
            <c-badge>
              <ng-template let-item="item">
                {{ item.nom_complet }}
              </ng-template>
            </c-badge>
            <c-item>
              <ng-template let-item="item">
                <label style="color: #333; min-width: 150px">{{
                  item.nom_complet
                  }}</label>
                <img [src]="item.photo_min?.path"
                     class="border border-warning rounded-circle float-right"
                     style="width: 30px; margin-right: 20px" />
              </ng-template>
            </c-item>
          </angular2-multiselect>

          <!-- Message d'erreur -->
          <div *ngIf="shouldShowRequiredError('chargerComs')"
               class="invalid-feedback">
            {{ "veuillezSelectionnerDeNouveauxChargerComs" | translate }}.
          </div>
        </div>
      </div>

      <div *ngIf="formValue('chargerComs').length">
        <div class="row px-4 mt-2">
          <h5 class="w-100 font-weight-bolder text-center">
            {{ "utilisateursSelectionnes" | translate }}
          </h5>
          <div class="col-sm-6 col-xl-4"
               *ngFor="let membre of formValue('chargerComs')">
            <div class="card mg-b-20">
              <div class="card-body text-center p-3">
                <!-- Image -->
                <span class="avatar3 mb-2 d-flex justify-content-center">
                  <img class="avatar3"
                       [src]="membre.photo_min?.path"
                       alt="avatar" />
                </span>

                <!-- Nom du professeur -->
                <h5 class="tx-gray tx-14">
                  {{ membre.nom_complet }}
                </h5>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-12">
            <button class="btn btn-sm btn-outline-success mr-2 float-right"
                    type="submit"
                    [disabled]="!formValue('chargerComs').length">
              {{ "VALIDER" | translate }}
              <i class="fas fa-circle-notch fa-spin text-success"
                 *ngIf="loading"></i>
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</ng-container>
