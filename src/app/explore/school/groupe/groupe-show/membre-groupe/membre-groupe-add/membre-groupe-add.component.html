<form class="custom-placeholder form slide-top" [formGroup]="form">
  <!-- Sous domaine, Niveau et langue -->
  <div class="formSep form-group p-form-group-3 d-flex justify-content-center pb-0 pt-3">
    <!-- Sous domaine -->
    <div class="col-12">
      <!-- Label -->
      <label class="control-label" for="membres">
        {{ 'ajouterDeNouveauxMembres' | translate }}
        <i class="fas fa-circle-notch fa-spin" *ngIf="getNonMembreLoading"></i>
      </label>

      <angular2-multiselect [data]="nonMembres" [settings]="dropdownSettingsAlt.users" formControlName="membres"
          [ngClass]="{'is-invalid': shouldShowRequiredError( 'membres'), 'is-valid': isValid('membres')}" class="form-control p-0 form-control-sm">
        <c-badge>
          <ng-template let-item="item">
            {{item.nom_complet}}
          </ng-template>
        </c-badge>
        <c-item>
          <ng-template let-item="item">
            <label style="color: #333;min-width: 150px;">{{item.nom_complet}}</label>
            <img [src]="item.photo_min?.path" style="width: 30px;margin-right: 20px;" />
          </ng-template>
        </c-item>
      </angular2-multiselect>

      <!-- Message d'erreur -->
      <div *ngIf="shouldShowRequiredError('membres')" class="invalid-feedback">
        {{ 'veuillezSelectionnerDeNouveauxMembres' | translate }}.
      </div>
    </div>

  </div>
</form>

<div *ngIf="formValue('membres').length">
  <div class="row px-4 mt-2">
    <h5 class="w-100 font-weight-bolder text-center">{{ 'membresSelectionnes' | translate }}</h5>
    <div class="col-sm-6 col-xl-2" style="z-index: -1;" *ngFor="let membre of formValue('membres')">
      <div class=" card mg-b-20 bg-light border">
        <div class="card-body text-center p-3">
          <!-- Image -->
          <span class="avatar3 mb-2">
            <img class="avatar3" [src]="membre.photo_min?.path" alt="avatar">
          </span>


          <!-- Nom du professeur -->
          <h5 class="tx-gray tx-14 mt-2  ">
            {{ membre.nom_complet }}
          </h5>

        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-12 ">
      <button class="btn btn-sm btn-outline-success mr-2 float-right" style="z-index: -1;" (click)="ajouterMembre()"
          [disabled]="!formValue('membres').length">
        {{ 'VALIDER' | translate }}
        <i class="fas fa-circle-notch fa-spin text-success" *ngIf="loading"></i>
      </button>
    </div>
  </div>
</div>
